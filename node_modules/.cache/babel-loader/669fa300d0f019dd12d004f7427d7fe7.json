{"remainingRequest":"/Users/songqingyu/Documents/GitHub/sustainKG/node_modules/babel-loader/lib/index.js!/Users/songqingyu/Documents/GitHub/sustainKG/node_modules/eslint-loader/index.js??ref--13-0!/Users/songqingyu/Documents/GitHub/sustainKG/src/utils/deviceRelation.js","dependencies":[{"path":"/Users/songqingyu/Documents/GitHub/sustainKG/src/utils/deviceRelation.js","mtime":1627203831391},{"path":"/Users/songqingyu/Documents/GitHub/sustainKG/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songqingyu/Documents/GitHub/sustainKG/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/songqingyu/Documents/GitHub/sustainKG/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqKuiuvuWkh+iBlOezuyoqKi8KZXhwb3J0IHZhciBnZXROb2RlU2VsZlBhdGggPSBmdW5jdGlvbiBnZXROb2RlU2VsZlBhdGgoZCkgewogIGlmIChkLnJlbGF0aW9uLmxpbmVOdW1iZXIgPT09IDEpIHsKICAgIHJldHVybiAiTSIgKyAoZC50YXJnZXQueCArIDI1KSArICIgIiArIChkLnRhcmdldC55IC0gMTApICsgIiBDICIgKyAoZC50YXJnZXQueCArIDEyNSkgKyAiICIgKyAoZC50YXJnZXQueSAtIDYwKSArICIsIiArIChkLnRhcmdldC54ICsgMTI1KSArICIgIiArIChkLnRhcmdldC55ICsgNjApICsgIiwiICsgKGQudGFyZ2V0LnggKyAzMCkgKyAiICIgKyAoZC50YXJnZXQueSArIDEwKTsKICB9CgogIGlmIChkLnJlbGF0aW9uLmxpbmVOdW1iZXIgPT09IDIpIHsKICAgIHJldHVybiAiTSIgKyAoZC50YXJnZXQueCAtIDEwKSArICIgIiArIChkLnRhcmdldC55IC0gMjUpICsgIiBDICIgKyAoZC50YXJnZXQueCAtIDYwKSArICIgIiArIChkLnRhcmdldC55IC0gMTI1KSArICIsIiArIChkLnRhcmdldC54ICsgNjApICsgIiAiICsgKGQudGFyZ2V0LnkgLSAxMjUpICsgIiwiICsgKGQudGFyZ2V0LnggKyAxMCkgKyAiICIgKyAoZC50YXJnZXQueSAtIDMwKTsKICB9CgogIGlmIChkLnJlbGF0aW9uLmxpbmVOdW1iZXIgPT09IDMpIHsKICAgIHJldHVybiAiTSIgKyAoZC50YXJnZXQueCAtIDI1KSArICIgIiArIChkLnRhcmdldC55ICsgMTApICsgIiBDICIgKyAoZC50YXJnZXQueCAtIDEyNSkgKyAiICIgKyAoZC50YXJnZXQueSArIDYwKSArICIsIiArIChkLnRhcmdldC54IC0gMTI1KSArICIgIiArIChkLnRhcmdldC55IC0gNjApICsgIiwiICsgKGQudGFyZ2V0LnggLSAzMCkgKyAiICIgKyAoZC50YXJnZXQueSAtIDEwKTsKICB9CgogIGlmIChkLnJlbGF0aW9uLmxpbmVOdW1iZXIgPT09IDQpIHsKICAgIHJldHVybiAiTSIgKyAoZC50YXJnZXQueCArIDEwKSArICIgIiArIChkLnRhcmdldC55ICsgMjUpICsgIiBDICIgKyAoZC50YXJnZXQueCArIDYwKSArICIgIiArIChkLnRhcmdldC55ICsgMTI1KSArICIsIiArIChkLnRhcmdldC54IC0gNjApICsgIiAiICsgKGQudGFyZ2V0LnkgKyAxMjUpICsgIiwiICsgKGQudGFyZ2V0LnggLSAxMCkgKyAiICIgKyAoZC50YXJnZXQueSArIDMwKTsKICB9Cn07CmV4cG9ydCB2YXIgZ2V0Tm9kZXNMaW5lID0gZnVuY3Rpb24gZ2V0Tm9kZXNMaW5lKGQsIGVkZ2VfbGluZSwgZGVmcykgewogIGQuc291cmNlUmFkaXVzID0gMjY7CiAgZC50YXJnZXRSYWRpdXMgPSAzMTsKICB2YXIgdGFuID0gTWF0aC5hYnMoKGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55KSAvIChkLnRhcmdldC54IC0gZC5zb3VyY2UueCkpOyAvL+WchuW/g+i/nue6v3RhbuWAvAoKICB2YXIgeDEgPSBkLnRhcmdldC54IC0gZC5zb3VyY2UueCA+IDAgPyBNYXRoLnNxcnQoZC5zb3VyY2VSYWRpdXMgKiBkLnNvdXJjZVJhZGl1cyAvICh0YW4gKiB0YW4gKyAxKSkgKyBkLnNvdXJjZS54IDogZC5zb3VyY2UueCAtIE1hdGguc3FydChkLnNvdXJjZVJhZGl1cyAqIGQuc291cmNlUmFkaXVzIC8gKHRhbiAqIHRhbiArIDEpKTsgLy/otbfngrl45Z2Q5qCHCgogIHZhciB5MSA9IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55ID4gMCA/IE1hdGguc3FydChkLnNvdXJjZVJhZGl1cyAqIGQuc291cmNlUmFkaXVzICogdGFuICogdGFuIC8gKHRhbiAqIHRhbiArIDEpKSArIGQuc291cmNlLnkgOiBkLnNvdXJjZS55IC0gTWF0aC5zcXJ0KGQuc291cmNlUmFkaXVzICogZC5zb3VyY2VSYWRpdXMgKiB0YW4gKiB0YW4gLyAodGFuICogdGFuICsgMSkpOyAvL+i1t+eCuXnlnZDmoIcKCiAgdmFyIHgyID0gZC50YXJnZXQueCAtIGQuc291cmNlLnggPiAwID8gZC50YXJnZXQueCAtIE1hdGguc3FydChkLnRhcmdldFJhZGl1cyAqIGQudGFyZ2V0UmFkaXVzIC8gKDEgKyB0YW4gKiB0YW4pKSA6IGQudGFyZ2V0LnggKyBNYXRoLnNxcnQoZC50YXJnZXRSYWRpdXMgKiBkLnRhcmdldFJhZGl1cyAvICgxICsgdGFuICogdGFuKSk7IC8v57uI54K5eOWdkOaghwoKICB2YXIgeTIgPSBkLnRhcmdldC55IC0gZC5zb3VyY2UueSA+IDAgPyBkLnRhcmdldC55IC0gTWF0aC5zcXJ0KGQudGFyZ2V0UmFkaXVzICogZC50YXJnZXRSYWRpdXMgKiB0YW4gKiB0YW4gLyAoMSArIHRhbiAqIHRhbikpIDogZC50YXJnZXQueSArIE1hdGguc3FydChkLnRhcmdldFJhZGl1cyAqIGQudGFyZ2V0UmFkaXVzICogdGFuICogdGFuIC8gKDEgKyB0YW4gKiB0YW4pKTsgLy/nu4jngrl55Z2Q5qCHCgogIGlmIChkLnRhcmdldC54IC0gZC5zb3VyY2UueCA9PT0gMCB8fCB0YW4gPT09IDApIHsKICAgIC8v5pac546H5peg56m35aSn55qE5oOF5Ya15oiW5Li6MOaXtgogICAgeTEgPSBkLnRhcmdldC55IC0gZC5zb3VyY2UueSA+IDAgPyBkLnNvdXJjZS55ICsgZC5zb3VyY2VSYWRpdXMgOiBkLnNvdXJjZS55IC0gZC5zb3VyY2VSYWRpdXM7CiAgICB5MiA9IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55ID4gMCA/IGQudGFyZ2V0LnkgLSBkLnRhcmdldFJhZGl1cyA6IGQudGFyZ2V0LnkgKyBkLnRhcmdldFJhZGl1czsKICB9IC8vIGlmIChkLmxpbmtudW0gPT09IDApIHsvL+iuvue9rue8luWPt+S4ujDnmoTov57mjqXnur/kuLrnm7Tnur/vvIzlhbbku5bov57mjqXnur/kvJrlnYfliIblnKjkuKTovrkKICAvLyAgIGQueF9zdGFydCA9IHgxOwogIC8vICAgZC55X3N0YXJ0ID0geTE7CiAgLy8gICBkLnhfZW5kID0geDI7CiAgLy8gICBkLnlfZW5kID0geTI7CiAgLy8gICByZXR1cm4gJ00nICsgeDEgKyAnICcgKyB5MSArICcgTCAnICsgeDIgKyAnICcgKyB5MjsKICAvLyB9CgoKICB2YXIgYSA9IGQuc291cmNlUmFkaXVzID4gZC50YXJnZXRSYWRpdXMgPyBkLnRhcmdldFJhZGl1cyAqIGQubGlua251bSAvIDMgOiBkLnNvdXJjZVJhZGl1cyAqIGQubGlua251bSAvIDM7CiAgdmFyIHhtID0gZC50YXJnZXQueCAtIGQuc291cmNlLnggPiAwID8gZC5zb3VyY2UueCArIE1hdGguc3FydCgoZC5zb3VyY2VSYWRpdXMgKiBkLnNvdXJjZVJhZGl1cyAtIGEgKiBhKSAvICgxICsgdGFuICogdGFuKSkgOiBkLnNvdXJjZS54IC0gTWF0aC5zcXJ0KChkLnNvdXJjZVJhZGl1cyAqIGQuc291cmNlUmFkaXVzIC0gYSAqIGEpIC8gKDEgKyB0YW4gKiB0YW4pKTsKICB2YXIgeW0gPSBkLnRhcmdldC55IC0gZC5zb3VyY2UueSA+IDAgPyBkLnNvdXJjZS55ICsgTWF0aC5zcXJ0KChkLnNvdXJjZVJhZGl1cyAqIGQuc291cmNlUmFkaXVzIC0gYSAqIGEpICogdGFuICogdGFuIC8gKDEgKyB0YW4gKiB0YW4pKSA6IGQuc291cmNlLnkgLSBNYXRoLnNxcnQoKGQuc291cmNlUmFkaXVzICogZC5zb3VyY2VSYWRpdXMgLSBhICogYSkgKiB0YW4gKiB0YW4gLyAoMSArIHRhbiAqIHRhbikpOwogIHZhciB4biA9IGQudGFyZ2V0LnggLSBkLnNvdXJjZS54ID4gMCA/IGQudGFyZ2V0LnggLSBNYXRoLnNxcnQoKGQudGFyZ2V0UmFkaXVzICogZC50YXJnZXRSYWRpdXMgLSBhICogYSkgLyAoMSArIHRhbiAqIHRhbikpIDogZC50YXJnZXQueCArIE1hdGguc3FydCgoZC50YXJnZXRSYWRpdXMgKiBkLnRhcmdldFJhZGl1cyAtIGEgKiBhKSAvICgxICsgdGFuICogdGFuKSk7CiAgdmFyIHluID0gZC50YXJnZXQueSAtIGQuc291cmNlLnkgPiAwID8gZC50YXJnZXQueSAtIE1hdGguc3FydCgoZC50YXJnZXRSYWRpdXMgKiBkLnRhcmdldFJhZGl1cyAtIGEgKiBhKSAqIHRhbiAqIHRhbiAvICgxICsgdGFuICogdGFuKSkgOiBkLnRhcmdldC55ICsgTWF0aC5zcXJ0KChkLnRhcmdldFJhZGl1cyAqIGQudGFyZ2V0UmFkaXVzIC0gYSAqIGEpICogdGFuICogdGFuIC8gKDEgKyB0YW4gKiB0YW4pKTsKCiAgaWYgKGQudGFyZ2V0LnggLSBkLnNvdXJjZS54ID09PSAwIHx8IHRhbiA9PT0gMCkgewogICAgLy/mlpznjofml6DnqbflpKfmiJbkuLow5pe2CiAgICB5bSA9IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55ID4gMCA/IGQuc291cmNlLnkgKyBNYXRoLnNxcnQoZC5zb3VyY2VSYWRpdXMgKiBkLnNvdXJjZVJhZGl1cyAtIGEgKiBhKSA6IGQuc291cmNlLnkgLSBNYXRoLnNxcnQoZC5zb3VyY2VSYWRpdXMgKiBkLnNvdXJjZVJhZGl1cyAtIGEgKiBhKTsKICAgIHluID0gZC50YXJnZXQueSAtIGQuc291cmNlLnkgPiAwID8gZC50YXJnZXQueSAtIE1hdGguc3FydChkLnRhcmdldFJhZGl1cyAqIGQudGFyZ2V0UmFkaXVzIC0gYSAqIGEpIDogZC50YXJnZXQueSArIE1hdGguc3FydChkLnRhcmdldFJhZGl1cyAqIGQudGFyZ2V0UmFkaXVzIC0gYSAqIGEpOwogIH0KCiAgdmFyIGsgPSAoeDEgLSB4MikgLyAoeTIgLSB5MSk7IC8v6L+e57q/5Z6C57q/55qE5pac546HCgogIHZhciBkeCA9IE1hdGguc3FydChhICogYSAvICgxICsgayAqIGspKTsgLy/nm7jlr7nlnoLngrl46L206Led56a7CgogIHZhciBkeSA9IE1hdGguc3FydChhICogYSAqIGsgKiBrIC8gKDEgKyBrICogaykpOyAvL+ebuOWvueWegueCuXnovbTot53nprsKCiAgaWYgKHkyIC0geTEgPT09IDApIHsKICAgIGR4ID0gMDsKICAgIGR5ID0gTWF0aC5zcXJ0KGEgKiBhKTsKICB9CgogIHZhciB4cywgeXMsIHh0LCB5dDsKCiAgaWYgKGEgPiAwKSB7CiAgICB4cyA9IGsgPiAwID8geG0gLSBkeCA6IHhtICsgZHg7CiAgICB5cyA9IHltIC0gZHk7CiAgICB4dCA9IGsgPiAwID8geG4gLSBkeCA6IHhuICsgZHg7CiAgICB5dCA9IHluIC0gZHk7CiAgfSBlbHNlIHsKICAgIHhzID0gayA+IDAgPyB4bSArIGR4IDogeG0gLSBkeDsKICAgIHlzID0geW0gKyBkeTsKICAgIHh0ID0gayA+IDAgPyB4biArIGR4IDogeG4gLSBkeDsKICAgIHl0ID0geW4gKyBkeTsKICB9IC8v6K6w5b2V6L+e57q/6LW35aeL5ZKM57uI5q2i5Z2Q5qCH77yM55So5LqO5a6a5L2N57q/5LiK5paH5a2XCgoKICBkLnhfc3RhcnQgPSB4czsKICBkLnlfc3RhcnQgPSB5czsKICBkLnhfZW5kID0geHQ7CiAgZC55X2VuZCA9IHl0OyAvLyBjb25zb2xlLmxvZygneGl4aXhpJyxlZGdlc19saW5lKTsKICAvLyAgIGVkZ2VfbGluZS5hdHRyKCdtYXJrZXItZW5kJywgZnVuY3Rpb24oZCxpKSB7CiAgLy8gICAgICAgaWYgKGQueF9zdGFydCA8IGQueF9lbmQpIHsKICAvLyAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3NvdXJjZSA8IGVuZCcpCiAgLy8gICAgICAgICAgIHJldHVybiAgInVybCgjZW5kKSI7CiAgLy8gICAgICAgfQogIC8vICAgICAgIHJldHVybiAnJwogIC8vICAgfSkKICAvLyAgICAgICAuYXR0cignbWFya2VyLXN0YXJ0JywgZnVuY3Rpb24oZCxpKSB7CiAgLy8gICAgICAgICAgIGlmIChkLnhfc3RhcnQgPj0gZC54X2VuZCkgewogIC8vICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3NvdXJjZSA+IGVuZCcpCiAgLy8gICAgICAgICAgICAgICByZXR1cm4gInVybCgjc3RhcnQpIjsKICAvLyAgICAgICAgICAgfQogIC8vICAgICAgICAgICByZXR1cm4gJyd9KQoKICBpZiAoeHMgPCB4dCkgewogICAgcmV0dXJuICdNJyArIHhzICsgJyAnICsgeXMgKyAiTCIgKyAreHQgKyAnICcgKyB5dDsgLy/nu5jliLbnm7Tnur8KICB9IGVsc2UgaWYgKHhzID49IHh0KSB7CiAgICByZXR1cm4gJ00nICsgeHQgKyAnICcgKyB5dCArICJMIiArICt4cyArICcgJyArIHlzOyAvL+e7mOWItuebtOe6vwogIH0gLy8gbGV0IE5vZGVzRGlzdGFuY2UgPSBNYXRoLnNxcnQoTWF0aC5wb3coZC5zb3VyY2UueCAtIGQudGFyZ2V0LngsIDIpICsgTWF0aC5wb3coZC5zb3VyY2UueSAtIGQudGFyZ2V0LnksIDIpKTsKICAvLyBsZXQgcmFkID0gMjAwOwogIC8vIGlmKDMwMCA+PSBOb2Rlc0Rpc3RhbmNlICYmIE5vZGVzRGlzdGFuY2UgPiAxNTApIHsKICAvLyAgIHJhZCA9IDMwMAogIC8vIH0gZWxzZSBpZig0NTAgPj0gTm9kZXNEaXN0YW5jZSAmJiBOb2Rlc0Rpc3RhbmNlID4gMzAwKSB7CiAgLy8gICByYWQgPSA0MDAKICAvLyB9IGVsc2UgaWYgKDYwMCA+PSBOb2Rlc0Rpc3RhbmNlICYmIE5vZGVzRGlzdGFuY2UgPiA0NTApIHsKICAvLyAgIHJhZCA9IDUwMAogIC8vIH0gZWxzZSBpZiAoNzUwID49IE5vZGVzRGlzdGFuY2UgJiYgTm9kZXNEaXN0YW5jZSA+IDYwMCkgewogIC8vICAgcmFkID0gNjAwCiAgLy8gfSBlbHNlIGlmICg5MDAgPj0gTm9kZXNEaXN0YW5jZSAmJiBOb2Rlc0Rpc3RhbmNlID4gNzUwKSB7CiAgLy8gICByYWQgPSA3MDAKICAvLyB9IGVsc2UgaWYgKDEwNTAgPj0gTm9kZXNEaXN0YW5jZSAmJiBOb2Rlc0Rpc3RhbmNlID4gOTAwKSB7CiAgLy8gICByYWQgPSA4MDAKICAvLyB9IGVsc2UgaWYgKDEyMDAgPj0gTm9kZXNEaXN0YW5jZSAmJiBOb2Rlc0Rpc3RhbmNlID4gMTA1MCkgewogIC8vICAgcmFkID0gOTAwCiAgLy8gfQogIC8vCiAgLy8gaWYoZC5zb3VyY2UueCA8IGQudGFyZ2V0Lngpey8v57uY5Yi25puy57q/CiAgLy8gICBpZihkLmxpbmtudW0gPCAwKSB7CiAgLy8gICAgIHJldHVybiAiTSIgKyB4cyArICIsIiArIHlzICsgIkEiICsgcmFkICsgIiwiICsgcmFkICsgIiAwIDAsMCAiICsgeHQgKyAiLCIgKyB5dDsKICAvLyAgIH1lbHNlIHsKICAvLyAgICAgcmV0dXJuICJNIiArIHhzICsgIiwiICsgeXMgKyAiQSIgKyByYWQgKyAiLCIgKyByYWQgKyAiIDAgMCwxICIgKyB4dCArICIsIiArIHl0OwogIC8vICAgfQogIC8vIH0gZWxzZSB7CiAgLy8gICBpZihkLmxpbmtudW0gPCAwKSB7CiAgLy8gICAgIHJldHVybiAiTSIgKyB4cyArICIsIiArIHlzICsgIkEiICsgcmFkICsgIiwiICsgcmFkICsgIiAwIDAsMSAiICsgeHQgKyAiLCIgKyB5dDsKICAvLyAgIH1lbHNlIHsKICAvLyAgICAgcmV0dXJuICJNIiArIHhzICsgIiwiICsgeXMgKyAiQSIgKyByYWQgKyAiLCIgKyByYWQgKyAiIDAgMCwwICIgKyB4dCArICIsIiArIHl0OwogIC8vICAgfQogIC8vIH0KCn07CmV4cG9ydCB2YXIgc2V0TGlua051bWJlciA9IGZ1bmN0aW9uIHNldExpbmtOdW1iZXIoZ3JvdXApIHsKICBpZiAoZ3JvdXAubGVuZ3RoID09PSAwKSByZXR1cm47CgogIGlmIChncm91cC5sZW5ndGggPT09IDEpIHsKICAgIGdyb3VwWzBdLmxpbmtudW0gPSAwOwogICAgcmV0dXJuOwogIH0KCiAgdmFyIG1heExpbmtOdW1iZXIgPSBncm91cC5sZW5ndGggJSAyID09PSAwID8gZ3JvdXAubGVuZ3RoIC8gMiA6IChncm91cC5sZW5ndGggLSAxKSAvIDI7CgogIGlmIChncm91cC5sZW5ndGggJSAyID09PSAwKSB7CiAgICB2YXIgc3RhcnRMaW5rTnVtID0gLW1heExpbmtOdW1iZXIgKyAwLjU7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cC5sZW5ndGg7IGkrKykgewogICAgICBncm91cFtpXS5saW5rbnVtID0gc3RhcnRMaW5rTnVtKys7CiAgICB9CiAgfSBlbHNlIHsKICAgIHZhciBfc3RhcnRMaW5rTnVtID0gLW1heExpbmtOdW1iZXI7CgogICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGdyb3VwLmxlbmd0aDsgX2krKykgewogICAgICBncm91cFtfaV0ubGlua251bSA9IF9zdGFydExpbmtOdW0rKzsKICAgIH0KICB9Cn07CmV4cG9ydCB2YXIgc2V0TGlua0dyb3VwID0gZnVuY3Rpb24gc2V0TGlua0dyb3VwKGxpbmtzKSB7CiAgdmFyIGxpbmtHcm91cCA9IHt9OyAvL+Wvuei/nuaOpee6v+i/m+ihjOe7n+iuoeWSjOWIhue7hO+8jOS4jeWMuuWIhui/nuaOpee6v+eahOaWueWQke+8jOWPquimgeWxnuS6juWQjOS4pOS4quWunuS9k++8jOWNs+iupOS4uuaYr+WQjOS4gOe7hAoKICB2YXIgbGlua21hcCA9IHt9OwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIga2V5ID0gbGlua3NbaV0uc291cmNlIDwgbGlua3NbaV0udGFyZ2V0ID8gbGlua3NbaV0uc291cmNlICsgJzonICsgbGlua3NbaV0udGFyZ2V0IDogbGlua3NbaV0udGFyZ2V0ICsgJzonICsgbGlua3NbaV0uc291cmNlOwoKICAgIGlmICghbGlua21hcC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgIGxpbmttYXBba2V5XSA9IDA7CiAgICB9CgogICAgbGlua21hcFtrZXldICs9IDE7CgogICAgaWYgKCFsaW5rR3JvdXAuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICBsaW5rR3JvdXBba2V5XSA9IFtdOwogICAgfQoKICAgIGxpbmtHcm91cFtrZXldLnB1c2gobGlua3NbaV0pOwogIH0gLy/kuLrmr4/kuIDmnaHov57mjqXnur/liIbphY1zaXpl5bGe5oCn77yM5ZCM5pe25a+55q+P5LiA57uE6L+e5o6l57q/6L+b6KGM57yW5Y+3CgoKICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBsaW5rcy5sZW5ndGg7IF9pMisrKSB7CiAgICB2YXIgX2tleSA9IGxpbmtzW19pMl0uc291cmNlIDwgbGlua3NbX2kyXS50YXJnZXQgPyBsaW5rc1tfaTJdLnNvdXJjZSArICc6JyArIGxpbmtzW19pMl0udGFyZ2V0IDogbGlua3NbX2kyXS50YXJnZXQgKyAnOicgKyBsaW5rc1tfaTJdLnNvdXJjZTsKCiAgICBsaW5rc1tfaTJdLnNpemUgPSBsaW5rbWFwW19rZXldOyAvL+WQjOS4gOe7hOeahOWFs+ezu+i/m+ihjOe8luWPtwoKICAgIHZhciBncm91cCA9IGxpbmtHcm91cFtfa2V5XTsgLy/nu5noioLngrnliIbphY3nvJblj7cKCiAgICBzZXRMaW5rTnVtYmVyKGdyb3VwKTsKICB9Cn07"},{"version":3,"sources":["/Users/songqingyu/Documents/GitHub/sustainKG/src/utils/deviceRelation.js"],"names":["getNodeSelfPath","d","relation","lineNumber","target","x","y","getNodesLine","edge_line","defs","sourceRadius","targetRadius","tan","Math","abs","source","x1","sqrt","y1","x2","y2","a","linknum","xm","ym","xn","yn","k","dx","dy","xs","ys","xt","yt","x_start","y_start","x_end","y_end","setLinkNumber","group","length","maxLinkNumber","startLinkNum","i","setLinkGroup","links","linkGroup","linkmap","key","hasOwnProperty","push","size"],"mappings":"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","sourcesContent":["/***设备联系***/\n\nexport const getNodeSelfPath = d => {\n  if(d.relation.lineNumber === 1) {\n    return \"M\" + (d.target.x + 25) + \" \" + (d.target.y - 10) + \" C \" + (d.target.x + 125) + \" \" + (d.target.y - 60)\n      + \",\" + (d.target.x + 125) + \" \" + (d.target.y + 60) + \",\" + (d.target.x + 30) + \" \" + (d.target.y+ 10);\n  }\n  if(d.relation.lineNumber === 2) {\n    return \"M\" + (d.target.x - 10) + \" \" + (d.target.y - 25) + \" C \" + (d.target.x - 60) + \" \" + (d.target.y - 125)\n      + \",\" + (d.target.x + 60) + \" \" + (d.target.y - 125) + \",\" + (d.target.x + 10) + \" \" + (d.target.y - 30);\n  }\n  if(d.relation.lineNumber === 3) {\n    return \"M\" + (d.target.x - 25) + \" \" + (d.target.y + 10) + \" C \" + (d.target.x - 125) + \" \" + (d.target.y + 60)\n      + \",\" + (d.target.x - 125) + \" \" + (d.target.y - 60) + \",\" + (d.target.x - 30) + \" \" + (d.target.y - 10);\n  }\n  if(d.relation.lineNumber === 4) {\n    return \"M\" + (d.target.x + 10) + \" \" + (d.target.y + 25) + \" C \" + (d.target.x + 60) + \" \" + (d.target.y + 125)\n      + \",\" + (d.target.x - 60) + \" \" + (d.target.y + 125) + \",\" + (d.target.x - 10) + \" \" + (d.target.y + 30);\n  }\n};\n\nexport const getNodesLine = (d,edge_line,defs)=> {\n  d.sourceRadius = 26;\n  d.targetRadius = 31;\n  let tan = Math.abs((d.target.y - d.source.y) / (d.target.x - d.source.x)); //圆心连线tan值\n  let x1 = d.target.x - d.source.x > 0 ? Math.sqrt(d.sourceRadius * d.sourceRadius / (tan * tan + 1)) + d.source.x :\n    d.source.x - Math.sqrt(d.sourceRadius * d.sourceRadius / (tan * tan + 1)); //起点x坐标\n  let y1 = d.target.y - d.source.y > 0 ? Math.sqrt(d.sourceRadius * d.sourceRadius * tan * tan / (tan * tan + 1)) + d.source.y :\n    d.source.y - Math.sqrt(d.sourceRadius * d.sourceRadius * tan * tan / (tan * tan + 1)); //起点y坐标\n  let x2 = d.target.x - d.source.x > 0 ? d.target.x - Math.sqrt(d.targetRadius * d.targetRadius / (1 + tan * tan)) :\n    d.target.x + Math.sqrt(d.targetRadius * d.targetRadius / (1 + tan * tan));//终点x坐标\n  let y2 = d.target.y - d.source.y > 0 ? d.target.y - Math.sqrt(d.targetRadius * d.targetRadius * tan * tan / (1 + tan * tan)) :\n    d.target.y + Math.sqrt(d.targetRadius * d.targetRadius * tan * tan / (1 + tan * tan));//终点y坐标\n  if (d.target.x - d.source.x === 0 || tan === 0) { //斜率无穷大的情况或为0时\n    y1 = d.target.y - d.source.y > 0 ? d.source.y + d.sourceRadius : d.source.y - d.sourceRadius;\n    y2 = d.target.y - d.source.y > 0 ? d.target.y - d.targetRadius : d.target.y + d.targetRadius;\n  }\n  // if (d.linknum === 0) {//设置编号为0的连接线为直线，其他连接线会均分在两边\n  //   d.x_start = x1;\n  //   d.y_start = y1;\n  //   d.x_end = x2;\n  //   d.y_end = y2;\n  //   return 'M' + x1 + ' ' + y1 + ' L ' + x2 + ' ' + y2;\n  // }\n  let a = d.sourceRadius > d.targetRadius ? d.targetRadius * d.linknum / 3 : d.sourceRadius * d.linknum / 3;\n  let xm = d.target.x - d.source.x > 0 ? d.source.x + Math.sqrt((d.sourceRadius * d.sourceRadius - a * a) / (1 + tan * tan)) :\n    d.source.x - Math.sqrt((d.sourceRadius * d.sourceRadius - a * a) / (1 + tan * tan));\n  let ym = d.target.y - d.source.y > 0 ? d.source.y + Math.sqrt((d.sourceRadius * d.sourceRadius - a * a) * tan * tan / (1 + tan * tan)) :\n    d.source.y - Math.sqrt((d.sourceRadius * d.sourceRadius - a * a) * tan * tan / (1 + tan * tan));\n  let xn = d.target.x - d.source.x > 0 ? d.target.x - Math.sqrt((d.targetRadius * d.targetRadius - a * a) / (1 + tan * tan)) :\n    d.target.x + Math.sqrt((d.targetRadius * d.targetRadius - a * a) / (1 + tan * tan));\n  let yn = d.target.y - d.source.y > 0 ? d.target.y - Math.sqrt((d.targetRadius * d.targetRadius - a * a) * tan * tan / (1 + tan * tan)) :\n    d.target.y + Math.sqrt((d.targetRadius * d.targetRadius - a * a) * tan * tan / (1 + tan * tan));\n  if (d.target.x - d.source.x === 0 || tan === 0) {//斜率无穷大或为0时\n    ym = d.target.y - d.source.y > 0 ? d.source.y + Math.sqrt(d.sourceRadius * d.sourceRadius - a * a) : d.source.y - Math.sqrt(d.sourceRadius * d.sourceRadius - a * a);\n    yn = d.target.y - d.source.y > 0 ? d.target.y - Math.sqrt(d.targetRadius * d.targetRadius - a * a) : d.target.y + Math.sqrt(d.targetRadius * d.targetRadius - a * a);\n  }\n\n  let k = (x1 - x2) / (y2 - y1);//连线垂线的斜率\n  let dx = Math.sqrt(a * a / (1 + k * k)); //相对垂点x轴距离\n  let dy = Math.sqrt(a * a * k * k / (1 + k * k)); //相对垂点y轴距离\n  if ((y2 - y1) === 0) {\n    dx = 0;\n    dy = Math.sqrt(a * a);\n  }\n  let xs,ys,xt,yt;\n  if (a > 0) {\n     xs = k > 0 ? xm - dx : xm + dx;\n     ys = ym - dy;\n     xt = k > 0 ? xn - dx : xn + dx;\n     yt = yn - dy;\n  } else {\n     xs = k > 0 ? xm + dx : xm - dx;\n     ys = ym + dy;\n     xt = k > 0 ? xn + dx : xn - dx;\n     yt = yn + dy;\n  }\n\n  //记录连线起始和终止坐标，用于定位线上文字\n  d.x_start = xs;\n  d.y_start = ys;\n  d.x_end = xt;\n  d.y_end = yt;\n  // console.log('xixixi',edges_line);\n  //   edge_line.attr('marker-end', function(d,i) {\n  //       if (d.x_start < d.x_end) {\n  //           // console.log('source < end')\n  //           return  \"url(#end)\";\n  //       }\n  //       return ''\n  //   })\n  //       .attr('marker-start', function(d,i) {\n  //           if (d.x_start >= d.x_end) {\n  //               // console.log('source > end')\n  //               return \"url(#start)\";\n  //           }\n  //           return ''})\n\n  if(xs<xt) {\n\n      return 'M' + xs + ' ' + ys + \"L\" + +xt + ' ' + yt;//绘制直线\n  }\nelse if(xs>=xt) {\n\n      return 'M' + xt + ' ' + yt + \"L\" + +xs + ' ' + ys;//绘制直线\n\n  }\n\n\n\n\n\n  // let NodesDistance = Math.sqrt(Math.pow(d.source.x - d.target.x, 2) + Math.pow(d.source.y - d.target.y, 2));\n  // let rad = 200;\n  // if(300 >= NodesDistance && NodesDistance > 150) {\n  //   rad = 300\n  // } else if(450 >= NodesDistance && NodesDistance > 300) {\n  //   rad = 400\n  // } else if (600 >= NodesDistance && NodesDistance > 450) {\n  //   rad = 500\n  // } else if (750 >= NodesDistance && NodesDistance > 600) {\n  //   rad = 600\n  // } else if (900 >= NodesDistance && NodesDistance > 750) {\n  //   rad = 700\n  // } else if (1050 >= NodesDistance && NodesDistance > 900) {\n  //   rad = 800\n  // } else if (1200 >= NodesDistance && NodesDistance > 1050) {\n  //   rad = 900\n  // }\n\n  //\n  // if(d.source.x < d.target.x){//绘制曲线\n  //   if(d.linknum < 0) {\n  //     return \"M\" + xs + \",\" + ys + \"A\" + rad + \",\" + rad + \" 0 0,0 \" + xt + \",\" + yt;\n  //   }else {\n  //     return \"M\" + xs + \",\" + ys + \"A\" + rad + \",\" + rad + \" 0 0,1 \" + xt + \",\" + yt;\n  //   }\n  // } else {\n  //   if(d.linknum < 0) {\n  //     return \"M\" + xs + \",\" + ys + \"A\" + rad + \",\" + rad + \" 0 0,1 \" + xt + \",\" + yt;\n  //   }else {\n  //     return \"M\" + xs + \",\" + ys + \"A\" + rad + \",\" + rad + \" 0 0,0 \" + xt + \",\" + yt;\n  //   }\n  // }\n};\n\nexport const setLinkNumber = (group) => {\n  if (group.length === 0) return;\n  if (group.length === 1) {\n    group[0].linknum = 0;\n    return;\n  }\n  let maxLinkNumber = group.length % 2 === 0 ? group.length / 2 : (group.length - 1) / 2;\n  if (group.length % 2 === 0) {\n    let startLinkNum = -maxLinkNumber + 0.5;\n    for (let i = 0; i < group.length; i++) {\n      group[i].linknum = startLinkNum++;\n    }\n  } else {\n    let startLinkNum = -maxLinkNumber;\n    for (let i = 0; i < group.length; i++) {\n      group[i].linknum = startLinkNum++;\n    }\n  }\n};\n\nexport const setLinkGroup = links => {\n  let linkGroup = {};\n  //对连接线进行统计和分组，不区分连接线的方向，只要属于同两个实体，即认为是同一组\n  let linkmap = {};\n  for (let i = 0; i < links.length; i++) {\n    let key = links[i].source < links[i].target ? links[i].source + ':' + links[i].target : links[i].target + ':' + links[i].source;\n    if (!linkmap.hasOwnProperty(key)) {\n      linkmap[key] = 0;\n    }\n    linkmap[key] += 1;\n    if (!linkGroup.hasOwnProperty(key)) {\n      linkGroup[key] = [];\n    }\n    linkGroup[key].push(links[i]);\n  }\n  //为每一条连接线分配size属性，同时对每一组连接线进行编号\n  for (let i = 0; i < links.length; i++) {\n    let key = links[i].source < links[i].target ? links[i].source + ':' + links[i].target : links[i].target + ':' + links[i].source;\n    links[i].size = linkmap[key];\n    //同一组的关系进行编号\n    let group = linkGroup[key];\n    //给节点分配编号\n    setLinkNumber(group);\n  }\n\n};\n\n\n\n\n"]}]}