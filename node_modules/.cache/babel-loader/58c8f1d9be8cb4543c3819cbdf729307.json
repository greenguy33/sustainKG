{"remainingRequest":"/Users/songqingyu/Documents/GitHub/sustainKG/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/Users/songqingyu/Documents/GitHub/sustainKG/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--13-0!/Users/songqingyu/Documents/GitHub/sustainKG/src/utils/deviceRelation.js","dependencies":[{"path":"/Users/songqingyu/Documents/GitHub/sustainKG/src/utils/deviceRelation.js","mtime":1627139954696},{"path":"/Users/songqingyu/Documents/GitHub/sustainKG/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songqingyu/Documents/GitHub/sustainKG/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/songqingyu/Documents/GitHub/sustainKG/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqKuiuvuWkh+iBlOezuyoqKi8KZXhwb3J0IHZhciBnZXROb2RlU2VsZlBhdGggPSBmdW5jdGlvbiBnZXROb2RlU2VsZlBhdGgoZCkgewogIGlmIChkLnJlbGF0aW9uLmxpbmVOdW1iZXIgPT09IDEpIHsKICAgIHJldHVybiAiTSIgKyAoZC50YXJnZXQueCArIDI1KSArICIgIiArIChkLnRhcmdldC55IC0gMTApICsgIiBDICIgKyAoZC50YXJnZXQueCArIDEyNSkgKyAiICIgKyAoZC50YXJnZXQueSAtIDYwKSArICIsIiArIChkLnRhcmdldC54ICsgMTI1KSArICIgIiArIChkLnRhcmdldC55ICsgNjApICsgIiwiICsgKGQudGFyZ2V0LnggKyAzMCkgKyAiICIgKyAoZC50YXJnZXQueSArIDEwKTsKICB9CgogIGlmIChkLnJlbGF0aW9uLmxpbmVOdW1iZXIgPT09IDIpIHsKICAgIHJldHVybiAiTSIgKyAoZC50YXJnZXQueCAtIDEwKSArICIgIiArIChkLnRhcmdldC55IC0gMjUpICsgIiBDICIgKyAoZC50YXJnZXQueCAtIDYwKSArICIgIiArIChkLnRhcmdldC55IC0gMTI1KSArICIsIiArIChkLnRhcmdldC54ICsgNjApICsgIiAiICsgKGQudGFyZ2V0LnkgLSAxMjUpICsgIiwiICsgKGQudGFyZ2V0LnggKyAxMCkgKyAiICIgKyAoZC50YXJnZXQueSAtIDMwKTsKICB9CgogIGlmIChkLnJlbGF0aW9uLmxpbmVOdW1iZXIgPT09IDMpIHsKICAgIHJldHVybiAiTSIgKyAoZC50YXJnZXQueCAtIDI1KSArICIgIiArIChkLnRhcmdldC55ICsgMTApICsgIiBDICIgKyAoZC50YXJnZXQueCAtIDEyNSkgKyAiICIgKyAoZC50YXJnZXQueSArIDYwKSArICIsIiArIChkLnRhcmdldC54IC0gMTI1KSArICIgIiArIChkLnRhcmdldC55IC0gNjApICsgIiwiICsgKGQudGFyZ2V0LnggLSAzMCkgKyAiICIgKyAoZC50YXJnZXQueSAtIDEwKTsKICB9CgogIGlmIChkLnJlbGF0aW9uLmxpbmVOdW1iZXIgPT09IDQpIHsKICAgIHJldHVybiAiTSIgKyAoZC50YXJnZXQueCArIDEwKSArICIgIiArIChkLnRhcmdldC55ICsgMjUpICsgIiBDICIgKyAoZC50YXJnZXQueCArIDYwKSArICIgIiArIChkLnRhcmdldC55ICsgMTI1KSArICIsIiArIChkLnRhcmdldC54IC0gNjApICsgIiAiICsgKGQudGFyZ2V0LnkgKyAxMjUpICsgIiwiICsgKGQudGFyZ2V0LnggLSAxMCkgKyAiICIgKyAoZC50YXJnZXQueSArIDMwKTsKICB9Cn07CmV4cG9ydCB2YXIgZ2V0Tm9kZXNMaW5lID0gZnVuY3Rpb24gZ2V0Tm9kZXNMaW5lKGQsIGVkZ2VfbGluZSwgZGVmcykgewogIGQuc291cmNlUmFkaXVzID0gMjY7CiAgZC50YXJnZXRSYWRpdXMgPSAzMTsKICB2YXIgdGFuID0gTWF0aC5hYnMoKGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55KSAvIChkLnRhcmdldC54IC0gZC5zb3VyY2UueCkpOyAvL+WchuW/g+i/nue6v3RhbuWAvAoKICB2YXIgeDEgPSBkLnRhcmdldC54IC0gZC5zb3VyY2UueCA+IDAgPyBNYXRoLnNxcnQoZC5zb3VyY2VSYWRpdXMgKiBkLnNvdXJjZVJhZGl1cyAvICh0YW4gKiB0YW4gKyAxKSkgKyBkLnNvdXJjZS54IDogZC5zb3VyY2UueCAtIE1hdGguc3FydChkLnNvdXJjZVJhZGl1cyAqIGQuc291cmNlUmFkaXVzIC8gKHRhbiAqIHRhbiArIDEpKTsgLy/otbfngrl45Z2Q5qCHCgogIHZhciB5MSA9IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55ID4gMCA/IE1hdGguc3FydChkLnNvdXJjZVJhZGl1cyAqIGQuc291cmNlUmFkaXVzICogdGFuICogdGFuIC8gKHRhbiAqIHRhbiArIDEpKSArIGQuc291cmNlLnkgOiBkLnNvdXJjZS55IC0gTWF0aC5zcXJ0KGQuc291cmNlUmFkaXVzICogZC5zb3VyY2VSYWRpdXMgKiB0YW4gKiB0YW4gLyAodGFuICogdGFuICsgMSkpOyAvL+i1t+eCuXnlnZDmoIcKCiAgdmFyIHgyID0gZC50YXJnZXQueCAtIGQuc291cmNlLnggPiAwID8gZC50YXJnZXQueCAtIE1hdGguc3FydChkLnRhcmdldFJhZGl1cyAqIGQudGFyZ2V0UmFkaXVzIC8gKDEgKyB0YW4gKiB0YW4pKSA6IGQudGFyZ2V0LnggKyBNYXRoLnNxcnQoZC50YXJnZXRSYWRpdXMgKiBkLnRhcmdldFJhZGl1cyAvICgxICsgdGFuICogdGFuKSk7IC8v57uI54K5eOWdkOaghwoKICB2YXIgeTIgPSBkLnRhcmdldC55IC0gZC5zb3VyY2UueSA+IDAgPyBkLnRhcmdldC55IC0gTWF0aC5zcXJ0KGQudGFyZ2V0UmFkaXVzICogZC50YXJnZXRSYWRpdXMgKiB0YW4gKiB0YW4gLyAoMSArIHRhbiAqIHRhbikpIDogZC50YXJnZXQueSArIE1hdGguc3FydChkLnRhcmdldFJhZGl1cyAqIGQudGFyZ2V0UmFkaXVzICogdGFuICogdGFuIC8gKDEgKyB0YW4gKiB0YW4pKTsgLy/nu4jngrl55Z2Q5qCHCgogIGlmIChkLnRhcmdldC54IC0gZC5zb3VyY2UueCA9PT0gMCB8fCB0YW4gPT09IDApIHsKICAgIC8v5pac546H5peg56m35aSn55qE5oOF5Ya15oiW5Li6MOaXtgogICAgeTEgPSBkLnRhcmdldC55IC0gZC5zb3VyY2UueSA+IDAgPyBkLnNvdXJjZS55ICsgZC5zb3VyY2VSYWRpdXMgOiBkLnNvdXJjZS55IC0gZC5zb3VyY2VSYWRpdXM7CiAgICB5MiA9IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55ID4gMCA/IGQudGFyZ2V0LnkgLSBkLnRhcmdldFJhZGl1cyA6IGQudGFyZ2V0LnkgKyBkLnRhcmdldFJhZGl1czsKICB9CgogIGlmIChkLmxpbmtudW0gPT09IDApIHsKICAgIC8v6K6+572u57yW5Y+35Li6MOeahOi/nuaOpee6v+S4uuebtOe6v++8jOWFtuS7lui/nuaOpee6v+S8muWdh+WIhuWcqOS4pOi+uQogICAgZC54X3N0YXJ0ID0geDE7CiAgICBkLnlfc3RhcnQgPSB5MTsKICAgIGQueF9lbmQgPSB4MjsKICAgIGQueV9lbmQgPSB5MjsKICAgIHJldHVybiAnTScgKyB4MSArICcgJyArIHkxICsgJyBMICcgKyB4MiArICcgJyArIHkyOwogIH0KCiAgdmFyIGEgPSBkLnNvdXJjZVJhZGl1cyA+IGQudGFyZ2V0UmFkaXVzID8gZC50YXJnZXRSYWRpdXMgKiBkLmxpbmtudW0gLyAzIDogZC5zb3VyY2VSYWRpdXMgKiBkLmxpbmtudW0gLyAzOwogIHZhciB4bSA9IGQudGFyZ2V0LnggLSBkLnNvdXJjZS54ID4gMCA/IGQuc291cmNlLnggKyBNYXRoLnNxcnQoKGQuc291cmNlUmFkaXVzICogZC5zb3VyY2VSYWRpdXMgLSBhICogYSkgLyAoMSArIHRhbiAqIHRhbikpIDogZC5zb3VyY2UueCAtIE1hdGguc3FydCgoZC5zb3VyY2VSYWRpdXMgKiBkLnNvdXJjZVJhZGl1cyAtIGEgKiBhKSAvICgxICsgdGFuICogdGFuKSk7CiAgdmFyIHltID0gZC50YXJnZXQueSAtIGQuc291cmNlLnkgPiAwID8gZC5zb3VyY2UueSArIE1hdGguc3FydCgoZC5zb3VyY2VSYWRpdXMgKiBkLnNvdXJjZVJhZGl1cyAtIGEgKiBhKSAqIHRhbiAqIHRhbiAvICgxICsgdGFuICogdGFuKSkgOiBkLnNvdXJjZS55IC0gTWF0aC5zcXJ0KChkLnNvdXJjZVJhZGl1cyAqIGQuc291cmNlUmFkaXVzIC0gYSAqIGEpICogdGFuICogdGFuIC8gKDEgKyB0YW4gKiB0YW4pKTsKICB2YXIgeG4gPSBkLnRhcmdldC54IC0gZC5zb3VyY2UueCA+IDAgPyBkLnRhcmdldC54IC0gTWF0aC5zcXJ0KChkLnRhcmdldFJhZGl1cyAqIGQudGFyZ2V0UmFkaXVzIC0gYSAqIGEpIC8gKDEgKyB0YW4gKiB0YW4pKSA6IGQudGFyZ2V0LnggKyBNYXRoLnNxcnQoKGQudGFyZ2V0UmFkaXVzICogZC50YXJnZXRSYWRpdXMgLSBhICogYSkgLyAoMSArIHRhbiAqIHRhbikpOwogIHZhciB5biA9IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55ID4gMCA/IGQudGFyZ2V0LnkgLSBNYXRoLnNxcnQoKGQudGFyZ2V0UmFkaXVzICogZC50YXJnZXRSYWRpdXMgLSBhICogYSkgKiB0YW4gKiB0YW4gLyAoMSArIHRhbiAqIHRhbikpIDogZC50YXJnZXQueSArIE1hdGguc3FydCgoZC50YXJnZXRSYWRpdXMgKiBkLnRhcmdldFJhZGl1cyAtIGEgKiBhKSAqIHRhbiAqIHRhbiAvICgxICsgdGFuICogdGFuKSk7CgogIGlmIChkLnRhcmdldC54IC0gZC5zb3VyY2UueCA9PT0gMCB8fCB0YW4gPT09IDApIHsKICAgIC8v5pac546H5peg56m35aSn5oiW5Li6MOaXtgogICAgeW0gPSBkLnRhcmdldC55IC0gZC5zb3VyY2UueSA+IDAgPyBkLnNvdXJjZS55ICsgTWF0aC5zcXJ0KGQuc291cmNlUmFkaXVzICogZC5zb3VyY2VSYWRpdXMgLSBhICogYSkgOiBkLnNvdXJjZS55IC0gTWF0aC5zcXJ0KGQuc291cmNlUmFkaXVzICogZC5zb3VyY2VSYWRpdXMgLSBhICogYSk7CiAgICB5biA9IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55ID4gMCA/IGQudGFyZ2V0LnkgLSBNYXRoLnNxcnQoZC50YXJnZXRSYWRpdXMgKiBkLnRhcmdldFJhZGl1cyAtIGEgKiBhKSA6IGQudGFyZ2V0LnkgKyBNYXRoLnNxcnQoZC50YXJnZXRSYWRpdXMgKiBkLnRhcmdldFJhZGl1cyAtIGEgKiBhKTsKICB9CgogIHZhciBrID0gKHgxIC0geDIpIC8gKHkyIC0geTEpOyAvL+i/nue6v+Wegue6v+eahOaWnOeOhwoKICB2YXIgZHggPSBNYXRoLnNxcnQoYSAqIGEgLyAoMSArIGsgKiBrKSk7IC8v55u45a+55Z6C54K5eOi9tOi3neemuwoKICB2YXIgZHkgPSBNYXRoLnNxcnQoYSAqIGEgKiBrICogayAvICgxICsgayAqIGspKTsgLy/nm7jlr7nlnoLngrl56L206Led56a7CgogIGlmICh5MiAtIHkxID09PSAwKSB7CiAgICBkeCA9IDA7CiAgICBkeSA9IE1hdGguc3FydChhICogYSk7CiAgfQoKICB2YXIgeHMsIHlzLCB4dCwgeXQ7CgogIGlmIChhID4gMCkgewogICAgeHMgPSBrID4gMCA/IHhtIC0gZHggOiB4bSArIGR4OwogICAgeXMgPSB5bSAtIGR5OwogICAgeHQgPSBrID4gMCA/IHhuIC0gZHggOiB4biArIGR4OwogICAgeXQgPSB5biAtIGR5OwogIH0gZWxzZSB7CiAgICB4cyA9IGsgPiAwID8geG0gKyBkeCA6IHhtIC0gZHg7CiAgICB5cyA9IHltICsgZHk7CiAgICB4dCA9IGsgPiAwID8geG4gKyBkeCA6IHhuIC0gZHg7CiAgICB5dCA9IHluICsgZHk7CiAgfSAvL+iusOW9lei/nue6v+i1t+Wni+WSjOe7iOatouWdkOagh++8jOeUqOS6juWumuS9jee6v+S4iuaWh+WtlwoKCiAgZC54X3N0YXJ0ID0geHM7CiAgZC55X3N0YXJ0ID0geXM7CiAgZC54X2VuZCA9IHh0OwogIGQueV9lbmQgPSB5dDsgLy8gY29uc29sZS5sb2coJ3hpeGl4aScsZWRnZXNfbGluZSk7CiAgLy8gICBlZGdlX2xpbmUuYXR0cignbWFya2VyLWVuZCcsIGZ1bmN0aW9uKGQsaSkgewogIC8vICAgICAgIGlmIChkLnhfc3RhcnQgPCBkLnhfZW5kKSB7CiAgLy8gICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzb3VyY2UgPCBlbmQnKQogIC8vICAgICAgICAgICByZXR1cm4gICJ1cmwoI2VuZCkiOwogIC8vICAgICAgIH0KICAvLyAgICAgICByZXR1cm4gJycKICAvLyAgIH0pCiAgLy8gICAgICAgLmF0dHIoJ21hcmtlci1zdGFydCcsIGZ1bmN0aW9uKGQsaSkgewogIC8vICAgICAgICAgICBpZiAoZC54X3N0YXJ0ID49IGQueF9lbmQpIHsKICAvLyAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzb3VyY2UgPiBlbmQnKQogIC8vICAgICAgICAgICAgICAgcmV0dXJuICJ1cmwoI3N0YXJ0KSI7CiAgLy8gICAgICAgICAgIH0KICAvLyAgICAgICAgICAgcmV0dXJuICcnfSkKCiAgaWYgKHhzIDwgeHQpIHsKICAgIHJldHVybiAnTScgKyB4cyArICcgJyArIHlzICsgIkwiICsgK3h0ICsgJyAnICsgeXQ7IC8v57uY5Yi255u057q/CiAgfSBlbHNlIGlmICh4cyA+PSB4dCkgewogICAgcmV0dXJuICdNJyArIHh0ICsgJyAnICsgeXQgKyAiTCIgKyAreHMgKyAnICcgKyB5czsgLy/nu5jliLbnm7Tnur8KICB9IC8vIGxldCBOb2Rlc0Rpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KGQuc291cmNlLnggLSBkLnRhcmdldC54LCAyKSArIE1hdGgucG93KGQuc291cmNlLnkgLSBkLnRhcmdldC55LCAyKSk7CiAgLy8gbGV0IHJhZCA9IDIwMDsKICAvLyBpZigzMDAgPj0gTm9kZXNEaXN0YW5jZSAmJiBOb2Rlc0Rpc3RhbmNlID4gMTUwKSB7CiAgLy8gICByYWQgPSAzMDAKICAvLyB9IGVsc2UgaWYoNDUwID49IE5vZGVzRGlzdGFuY2UgJiYgTm9kZXNEaXN0YW5jZSA+IDMwMCkgewogIC8vICAgcmFkID0gNDAwCiAgLy8gfSBlbHNlIGlmICg2MDAgPj0gTm9kZXNEaXN0YW5jZSAmJiBOb2Rlc0Rpc3RhbmNlID4gNDUwKSB7CiAgLy8gICByYWQgPSA1MDAKICAvLyB9IGVsc2UgaWYgKDc1MCA+PSBOb2Rlc0Rpc3RhbmNlICYmIE5vZGVzRGlzdGFuY2UgPiA2MDApIHsKICAvLyAgIHJhZCA9IDYwMAogIC8vIH0gZWxzZSBpZiAoOTAwID49IE5vZGVzRGlzdGFuY2UgJiYgTm9kZXNEaXN0YW5jZSA+IDc1MCkgewogIC8vICAgcmFkID0gNzAwCiAgLy8gfSBlbHNlIGlmICgxMDUwID49IE5vZGVzRGlzdGFuY2UgJiYgTm9kZXNEaXN0YW5jZSA+IDkwMCkgewogIC8vICAgcmFkID0gODAwCiAgLy8gfSBlbHNlIGlmICgxMjAwID49IE5vZGVzRGlzdGFuY2UgJiYgTm9kZXNEaXN0YW5jZSA+IDEwNTApIHsKICAvLyAgIHJhZCA9IDkwMAogIC8vIH0KICAvLwogIC8vIGlmKGQuc291cmNlLnggPCBkLnRhcmdldC54KXsvL+e7mOWItuabsue6vwogIC8vICAgaWYoZC5saW5rbnVtIDwgMCkgewogIC8vICAgICByZXR1cm4gIk0iICsgeHMgKyAiLCIgKyB5cyArICJBIiArIHJhZCArICIsIiArIHJhZCArICIgMCAwLDAgIiArIHh0ICsgIiwiICsgeXQ7CiAgLy8gICB9ZWxzZSB7CiAgLy8gICAgIHJldHVybiAiTSIgKyB4cyArICIsIiArIHlzICsgIkEiICsgcmFkICsgIiwiICsgcmFkICsgIiAwIDAsMSAiICsgeHQgKyAiLCIgKyB5dDsKICAvLyAgIH0KICAvLyB9IGVsc2UgewogIC8vICAgaWYoZC5saW5rbnVtIDwgMCkgewogIC8vICAgICByZXR1cm4gIk0iICsgeHMgKyAiLCIgKyB5cyArICJBIiArIHJhZCArICIsIiArIHJhZCArICIgMCAwLDEgIiArIHh0ICsgIiwiICsgeXQ7CiAgLy8gICB9ZWxzZSB7CiAgLy8gICAgIHJldHVybiAiTSIgKyB4cyArICIsIiArIHlzICsgIkEiICsgcmFkICsgIiwiICsgcmFkICsgIiAwIDAsMCAiICsgeHQgKyAiLCIgKyB5dDsKICAvLyAgIH0KICAvLyB9Cgp9OwpleHBvcnQgdmFyIHNldExpbmtOdW1iZXIgPSBmdW5jdGlvbiBzZXRMaW5rTnVtYmVyKGdyb3VwKSB7CiAgaWYgKGdyb3VwLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoKICBpZiAoZ3JvdXAubGVuZ3RoID09PSAxKSB7CiAgICBncm91cFswXS5saW5rbnVtID0gMDsKICAgIHJldHVybjsKICB9CgogIHZhciBtYXhMaW5rTnVtYmVyID0gZ3JvdXAubGVuZ3RoICUgMiA9PT0gMCA/IGdyb3VwLmxlbmd0aCAvIDIgOiAoZ3JvdXAubGVuZ3RoIC0gMSkgLyAyOwoKICBpZiAoZ3JvdXAubGVuZ3RoICUgMiA9PT0gMCkgewogICAgdmFyIHN0YXJ0TGlua051bSA9IC1tYXhMaW5rTnVtYmVyICsgMC41OwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpKyspIHsKICAgICAgZ3JvdXBbaV0ubGlua251bSA9IHN0YXJ0TGlua051bSsrOwogICAgfQogIH0gZWxzZSB7CiAgICB2YXIgX3N0YXJ0TGlua051bSA9IC1tYXhMaW5rTnVtYmVyOwoKICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBncm91cC5sZW5ndGg7IF9pKyspIHsKICAgICAgZ3JvdXBbX2ldLmxpbmtudW0gPSBfc3RhcnRMaW5rTnVtKys7CiAgICB9CiAgfQp9OwpleHBvcnQgdmFyIHNldExpbmtHcm91cCA9IGZ1bmN0aW9uIHNldExpbmtHcm91cChsaW5rcykgewogIHZhciBsaW5rR3JvdXAgPSB7fTsgLy/lr7nov57mjqXnur/ov5vooYznu5/orqHlkozliIbnu4TvvIzkuI3ljLrliIbov57mjqXnur/nmoTmlrnlkJHvvIzlj6ropoHlsZ7kuo7lkIzkuKTkuKrlrp7kvZPvvIzljbPorqTkuLrmmK/lkIzkuIDnu4QKCiAgdmFyIGxpbmttYXAgPSB7fTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGtleSA9IGxpbmtzW2ldLnNvdXJjZSA8IGxpbmtzW2ldLnRhcmdldCA/IGxpbmtzW2ldLnNvdXJjZSArICc6JyArIGxpbmtzW2ldLnRhcmdldCA6IGxpbmtzW2ldLnRhcmdldCArICc6JyArIGxpbmtzW2ldLnNvdXJjZTsKCiAgICBpZiAoIWxpbmttYXAuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICBsaW5rbWFwW2tleV0gPSAwOwogICAgfQoKICAgIGxpbmttYXBba2V5XSArPSAxOwoKICAgIGlmICghbGlua0dyb3VwLmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgbGlua0dyb3VwW2tleV0gPSBbXTsKICAgIH0KCiAgICBsaW5rR3JvdXBba2V5XS5wdXNoKGxpbmtzW2ldKTsKICB9IC8v5Li65q+P5LiA5p2h6L+e5o6l57q/5YiG6YWNc2l6ZeWxnuaAp++8jOWQjOaXtuWvueavj+S4gOe7hOi/nuaOpee6v+i/m+ihjOe8luWPtwoKCiAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbGlua3MubGVuZ3RoOyBfaTIrKykgewogICAgdmFyIF9rZXkgPSBsaW5rc1tfaTJdLnNvdXJjZSA8IGxpbmtzW19pMl0udGFyZ2V0ID8gbGlua3NbX2kyXS5zb3VyY2UgKyAnOicgKyBsaW5rc1tfaTJdLnRhcmdldCA6IGxpbmtzW19pMl0udGFyZ2V0ICsgJzonICsgbGlua3NbX2kyXS5zb3VyY2U7CgogICAgbGlua3NbX2kyXS5zaXplID0gbGlua21hcFtfa2V5XTsgLy/lkIzkuIDnu4TnmoTlhbPns7vov5vooYznvJblj7cKCiAgICB2YXIgZ3JvdXAgPSBsaW5rR3JvdXBbX2tleV07IC8v57uZ6IqC54K55YiG6YWN57yW5Y+3CgogICAgc2V0TGlua051bWJlcihncm91cCk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/songqingyu/Documents/GitHub/sustainKG/src/utils/deviceRelation.js"],"names":["getNodeSelfPath","d","relation","lineNumber","target","x","y","getNodesLine","edge_line","defs","sourceRadius","targetRadius","tan","Math","abs","source","x1","sqrt","y1","x2","y2","linknum","x_start","y_start","x_end","y_end","a","xm","ym","xn","yn","k","dx","dy","xs","ys","xt","yt","setLinkNumber","group","length","maxLinkNumber","startLinkNum","i","setLinkGroup","links","linkGroup","linkmap","key","hasOwnProperty","push","size"],"mappings":"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","sourcesContent":["/***设备联系***/\n\nexport const getNodeSelfPath = d => {\n  if(d.relation.lineNumber === 1) {\n    return \"M\" + (d.target.x + 25) + \" \" + (d.target.y - 10) + \" C \" + (d.target.x + 125) + \" \" + (d.target.y - 60)\n      + \",\" + (d.target.x + 125) + \" \" + (d.target.y + 60) + \",\" + (d.target.x + 30) + \" \" + (d.target.y+ 10);\n  }\n  if(d.relation.lineNumber === 2) {\n    return \"M\" + (d.target.x - 10) + \" \" + (d.target.y - 25) + \" C \" + (d.target.x - 60) + \" \" + (d.target.y - 125)\n      + \",\" + (d.target.x + 60) + \" \" + (d.target.y - 125) + \",\" + (d.target.x + 10) + \" \" + (d.target.y - 30);\n  }\n  if(d.relation.lineNumber === 3) {\n    return \"M\" + (d.target.x - 25) + \" \" + (d.target.y + 10) + \" C \" + (d.target.x - 125) + \" \" + (d.target.y + 60)\n      + \",\" + (d.target.x - 125) + \" \" + (d.target.y - 60) + \",\" + (d.target.x - 30) + \" \" + (d.target.y - 10);\n  }\n  if(d.relation.lineNumber === 4) {\n    return \"M\" + (d.target.x + 10) + \" \" + (d.target.y + 25) + \" C \" + (d.target.x + 60) + \" \" + (d.target.y + 125)\n      + \",\" + (d.target.x - 60) + \" \" + (d.target.y + 125) + \",\" + (d.target.x - 10) + \" \" + (d.target.y + 30);\n  }\n};\n\nexport const getNodesLine = (d,edge_line,defs)=> {\n  d.sourceRadius = 26;\n  d.targetRadius = 31;\n  let tan = Math.abs((d.target.y - d.source.y) / (d.target.x - d.source.x)); //圆心连线tan值\n  let x1 = d.target.x - d.source.x > 0 ? Math.sqrt(d.sourceRadius * d.sourceRadius / (tan * tan + 1)) + d.source.x :\n    d.source.x - Math.sqrt(d.sourceRadius * d.sourceRadius / (tan * tan + 1)); //起点x坐标\n  let y1 = d.target.y - d.source.y > 0 ? Math.sqrt(d.sourceRadius * d.sourceRadius * tan * tan / (tan * tan + 1)) + d.source.y :\n    d.source.y - Math.sqrt(d.sourceRadius * d.sourceRadius * tan * tan / (tan * tan + 1)); //起点y坐标\n  let x2 = d.target.x - d.source.x > 0 ? d.target.x - Math.sqrt(d.targetRadius * d.targetRadius / (1 + tan * tan)) :\n    d.target.x + Math.sqrt(d.targetRadius * d.targetRadius / (1 + tan * tan));//终点x坐标\n  let y2 = d.target.y - d.source.y > 0 ? d.target.y - Math.sqrt(d.targetRadius * d.targetRadius * tan * tan / (1 + tan * tan)) :\n    d.target.y + Math.sqrt(d.targetRadius * d.targetRadius * tan * tan / (1 + tan * tan));//终点y坐标\n  if (d.target.x - d.source.x === 0 || tan === 0) { //斜率无穷大的情况或为0时\n    y1 = d.target.y - d.source.y > 0 ? d.source.y + d.sourceRadius : d.source.y - d.sourceRadius;\n    y2 = d.target.y - d.source.y > 0 ? d.target.y - d.targetRadius : d.target.y + d.targetRadius;\n  }\n  if (d.linknum === 0) {//设置编号为0的连接线为直线，其他连接线会均分在两边\n    d.x_start = x1;\n    d.y_start = y1;\n    d.x_end = x2;\n    d.y_end = y2;\n    return 'M' + x1 + ' ' + y1 + ' L ' + x2 + ' ' + y2;\n  }\n  let a = d.sourceRadius > d.targetRadius ? d.targetRadius * d.linknum / 3 : d.sourceRadius * d.linknum / 3;\n  let xm = d.target.x - d.source.x > 0 ? d.source.x + Math.sqrt((d.sourceRadius * d.sourceRadius - a * a) / (1 + tan * tan)) :\n    d.source.x - Math.sqrt((d.sourceRadius * d.sourceRadius - a * a) / (1 + tan * tan));\n  let ym = d.target.y - d.source.y > 0 ? d.source.y + Math.sqrt((d.sourceRadius * d.sourceRadius - a * a) * tan * tan / (1 + tan * tan)) :\n    d.source.y - Math.sqrt((d.sourceRadius * d.sourceRadius - a * a) * tan * tan / (1 + tan * tan));\n  let xn = d.target.x - d.source.x > 0 ? d.target.x - Math.sqrt((d.targetRadius * d.targetRadius - a * a) / (1 + tan * tan)) :\n    d.target.x + Math.sqrt((d.targetRadius * d.targetRadius - a * a) / (1 + tan * tan));\n  let yn = d.target.y - d.source.y > 0 ? d.target.y - Math.sqrt((d.targetRadius * d.targetRadius - a * a) * tan * tan / (1 + tan * tan)) :\n    d.target.y + Math.sqrt((d.targetRadius * d.targetRadius - a * a) * tan * tan / (1 + tan * tan));\n  if (d.target.x - d.source.x === 0 || tan === 0) {//斜率无穷大或为0时\n    ym = d.target.y - d.source.y > 0 ? d.source.y + Math.sqrt(d.sourceRadius * d.sourceRadius - a * a) : d.source.y - Math.sqrt(d.sourceRadius * d.sourceRadius - a * a);\n    yn = d.target.y - d.source.y > 0 ? d.target.y - Math.sqrt(d.targetRadius * d.targetRadius - a * a) : d.target.y + Math.sqrt(d.targetRadius * d.targetRadius - a * a);\n  }\n\n  let k = (x1 - x2) / (y2 - y1);//连线垂线的斜率\n  let dx = Math.sqrt(a * a / (1 + k * k)); //相对垂点x轴距离\n  let dy = Math.sqrt(a * a * k * k / (1 + k * k)); //相对垂点y轴距离\n  if ((y2 - y1) === 0) {\n    dx = 0;\n    dy = Math.sqrt(a * a);\n  }\n  let xs,ys,xt,yt;\n  if (a > 0) {\n     xs = k > 0 ? xm - dx : xm + dx;\n     ys = ym - dy;\n     xt = k > 0 ? xn - dx : xn + dx;\n     yt = yn - dy;\n  } else {\n     xs = k > 0 ? xm + dx : xm - dx;\n     ys = ym + dy;\n     xt = k > 0 ? xn + dx : xn - dx;\n     yt = yn + dy;\n  }\n\n  //记录连线起始和终止坐标，用于定位线上文字\n  d.x_start = xs;\n  d.y_start = ys;\n  d.x_end = xt;\n  d.y_end = yt;\n  // console.log('xixixi',edges_line);\n  //   edge_line.attr('marker-end', function(d,i) {\n  //       if (d.x_start < d.x_end) {\n  //           // console.log('source < end')\n  //           return  \"url(#end)\";\n  //       }\n  //       return ''\n  //   })\n  //       .attr('marker-start', function(d,i) {\n  //           if (d.x_start >= d.x_end) {\n  //               // console.log('source > end')\n  //               return \"url(#start)\";\n  //           }\n  //           return ''})\n\n  if(xs<xt) {\n\n      return 'M' + xs + ' ' + ys + \"L\" + +xt + ' ' + yt;//绘制直线\n  }\nelse if(xs>=xt) {\n\n      return 'M' + xt + ' ' + yt + \"L\" + +xs + ' ' + ys;//绘制直线\n\n  }\n\n\n\n\n\n  // let NodesDistance = Math.sqrt(Math.pow(d.source.x - d.target.x, 2) + Math.pow(d.source.y - d.target.y, 2));\n  // let rad = 200;\n  // if(300 >= NodesDistance && NodesDistance > 150) {\n  //   rad = 300\n  // } else if(450 >= NodesDistance && NodesDistance > 300) {\n  //   rad = 400\n  // } else if (600 >= NodesDistance && NodesDistance > 450) {\n  //   rad = 500\n  // } else if (750 >= NodesDistance && NodesDistance > 600) {\n  //   rad = 600\n  // } else if (900 >= NodesDistance && NodesDistance > 750) {\n  //   rad = 700\n  // } else if (1050 >= NodesDistance && NodesDistance > 900) {\n  //   rad = 800\n  // } else if (1200 >= NodesDistance && NodesDistance > 1050) {\n  //   rad = 900\n  // }\n\n  //\n  // if(d.source.x < d.target.x){//绘制曲线\n  //   if(d.linknum < 0) {\n  //     return \"M\" + xs + \",\" + ys + \"A\" + rad + \",\" + rad + \" 0 0,0 \" + xt + \",\" + yt;\n  //   }else {\n  //     return \"M\" + xs + \",\" + ys + \"A\" + rad + \",\" + rad + \" 0 0,1 \" + xt + \",\" + yt;\n  //   }\n  // } else {\n  //   if(d.linknum < 0) {\n  //     return \"M\" + xs + \",\" + ys + \"A\" + rad + \",\" + rad + \" 0 0,1 \" + xt + \",\" + yt;\n  //   }else {\n  //     return \"M\" + xs + \",\" + ys + \"A\" + rad + \",\" + rad + \" 0 0,0 \" + xt + \",\" + yt;\n  //   }\n  // }\n};\n\nexport const setLinkNumber = (group) => {\n  if (group.length === 0) return;\n  if (group.length === 1) {\n    group[0].linknum = 0;\n    return;\n  }\n  let maxLinkNumber = group.length % 2 === 0 ? group.length / 2 : (group.length - 1) / 2;\n  if (group.length % 2 === 0) {\n    let startLinkNum = -maxLinkNumber + 0.5;\n    for (let i = 0; i < group.length; i++) {\n      group[i].linknum = startLinkNum++;\n    }\n  } else {\n    let startLinkNum = -maxLinkNumber;\n    for (let i = 0; i < group.length; i++) {\n      group[i].linknum = startLinkNum++;\n    }\n  }\n};\n\nexport const setLinkGroup = links => {\n  let linkGroup = {};\n  //对连接线进行统计和分组，不区分连接线的方向，只要属于同两个实体，即认为是同一组\n  let linkmap = {};\n  for (let i = 0; i < links.length; i++) {\n    let key = links[i].source < links[i].target ? links[i].source + ':' + links[i].target : links[i].target + ':' + links[i].source;\n    if (!linkmap.hasOwnProperty(key)) {\n      linkmap[key] = 0;\n    }\n    linkmap[key] += 1;\n    if (!linkGroup.hasOwnProperty(key)) {\n      linkGroup[key] = [];\n    }\n    linkGroup[key].push(links[i]);\n  }\n  //为每一条连接线分配size属性，同时对每一组连接线进行编号\n  for (let i = 0; i < links.length; i++) {\n    let key = links[i].source < links[i].target ? links[i].source + ':' + links[i].target : links[i].target + ':' + links[i].source;\n    links[i].size = linkmap[key];\n    //同一组的关系进行编号\n    let group = linkGroup[key];\n    //给节点分配编号\n    setLinkNumber(group);\n  }\n\n};\n\n\n\n\n"]}]}